(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{125:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(7),o=t.n(c),i=(t(94),t(37)),l=t.n(i),u=t(47),m=t(18),s=t(38),d=t.n(s);var p=function(){return r.a.createElement("nav",{className:"navbar navbar-default"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"navbar-header"},r.a.createElement("h3",{className:"navbar-brand"},"Assignment 3 - Team Details"))))},f=t(168),E=t(159),v=t(160),h=t(154),g=t(155),b=t(156),j=t(158),y=t(166),w=t(167),O=t(165),N=t(164),_=t(157),x=t(28),T=Object(h.a)(function(e){return{formControl:{maxWidth:"100%",minWidth:150,marginBottom:e.spacing(3)},card:{width:"20vw",minWidth:"150px",margin:e.spacing(1)},SaveButton:{padding:e.spacing(2)},typography:{padding:e.spacing(2)}}});var k=function(e){var a=T(),t=r.a.useState(e.Team.Employees),n=Object(m.a)(t,2),c=n[0],o=n[1],i=r.a.useState(e.Team.TeamLead),s=Object(m.a)(i,2),p=s[0],h=s[1],k=e.Team.Projects.map(function(a){return e.Projects.find(function(e){return e._id===a})}),S=r.a.useState(k),C=Object(m.a)(S,2),P=C[0],W=C[1],L=r.a.useState(null),B=Object(m.a)(L,2),F=B[0],A=B[1],M=r.a.useState("Loading"),V=Object(m.a)(M,2),z=V[0],D=V[1],J=Boolean(F),U=J?"save-popover":null;function I(a){if(Array.isArray(a))return a.map(function(a){return e.Employees.find(function(e){return e._id===a})}).map(function(e){return e.FirstName+" "+e.LastName}).join(",");var t=e.Employees.find(function(e){return e._id===a});return t?t.FirstName+" "+t.LastName:"Employee does not exist"}function $(a){if(Array.isArray(a)){var t=a.map(function(a){return e.Projects.find(function(e){return e._id===a._id})});if(t)return t.map(function(e){return e.ProjectName}).join(",")}else{var n=e.Projects.find(function(e){return e._id===a});if(n)return n.ProjectName}}return r.a.createElement(g.a,{className:a.card},r.a.createElement(b.a,{title:e.Team.TeamName,action:r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,{"aria-describedby":U,onClick:function(a){A(a.currentTarget),function(){var a=Object(u.a)(l.a.mark(function a(){return l.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,d.a.put(e.Url+"team/"+e.Team._id,{Projects:P,Employees:c,TeamLead:p}).then(function(e){return D(e.data.message)});case 2:case"end":return a.stop()}},a)}));return function(){return a.apply(this,arguments)}}()()},variant:"contained",color:"primary",className:a.button},"Save"),r.a.createElement(N.a,{id:U,open:J,anchorEl:F,onClose:function(e){A(null)},anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}},r.a.createElement(x.a,{className:a.typography,gutterBottom:!0},z)))}),r.a.createElement(j.a,null,r.a.createElement(E.a,{className:a.formControl},r.a.createElement(w.a,{htmlFor:"select-teamLead"},"Team Lead"),r.a.createElement(O.a,{id:"select-teamLead",autoWidth:!0,value:p,onChange:function(e){h(e.target.value)},input:r.a.createElement(y.a,null),renderValue:function(e){return I(e)}},e.Employees.map(function(e){return r.a.createElement(f.a,{key:e._id,value:e._id},r.a.createElement(v.a,{primary:I(e._id)}))}))),r.a.createElement(E.a,{className:a.formControl},r.a.createElement(w.a,{htmlFor:"select-teamMem"},"Team Members"),r.a.createElement(O.a,{id:"select-teamMem",multiple:!0,autoWidth:!0,value:c,onChange:function(e){o(e.target.value)},input:r.a.createElement(y.a,null),renderValue:function(e){return I(e)}},e.Employees.map(function(e){return r.a.createElement(f.a,{key:e._id,value:e._id},r.a.createElement(v.a,{primary:I(e._id)}))}))),r.a.createElement(E.a,{className:a.formControl},r.a.createElement(w.a,{htmlFor:"select-project"},"Projects"),r.a.createElement(O.a,{id:"select-project",autoWidth:!0,value:P,onChange:function(e){W(e.target.value)},input:r.a.createElement(y.a,{id:"name-native-disabled"}),renderValue:function(e){return $(e)}},P.map(function(e){return r.a.createElement(f.a,{key:e._id,value:e._id},r.a.createElement(v.a,{primary:$(e._id)}))})))))},S=t(163),C=t(161),P=t(84),W=t(83),L=t.n(W),B=t(162),F="https://web422-api-server.herokuapp.com/",A=Object(h.a)(function(e){return{progress:{margin:e.spacing(2)}}}),M=Object(P.a)({palette:{primary:{main:"#3498db",contrastText:"white"}}});var V=function(){var e=Object(n.useState)([]),a=Object(m.a)(e,2),t=a[0],c=a[1],o=Object(n.useState)([]),i=Object(m.a)(o,2),s=i[0],f=i[1],E=Object(n.useState)([]),v=Object(m.a)(E,2),h=v[0],g=v[1],b=Object(n.useState)(!1),j=Object(m.a)(b,2),y=j[0],w=j[1],O=A();return Object(n.useEffect)(function(){!function(){var e=Object(u.a)(l.a.mark(function e(){var a,t,n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get(F+"teams-raw");case 2:return a=e.sent,c(a.data),e.next=6,d.a.get(F+"employees");case 6:return t=e.sent,f(t.data),e.next=10,d.a.get(F+"projects");case 10:n=e.sent,g(n.data),w(!0);case 13:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()()},[]),r.a.createElement(L.a,{theme:M},r.a.createElement(C.a,null,r.a.createElement(p,null),r.a.createElement(S.a,{display:"flex",alignContent:"flex-start",flexDirection:"row",flexWrap:"wrap"},y?t.map(function(e){return r.a.createElement(k,{key:e._id,Team:e,Employees:s,Projects:h,Url:F})}):r.a.createElement("div",null,r.a.createElement(B.a,{className:O.progress})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(V,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},89:function(e,a,t){e.exports=t(125)},94:function(e,a,t){}},[[89,1,2]]]);
//# sourceMappingURL=main.a96d9cc5.chunk.js.map